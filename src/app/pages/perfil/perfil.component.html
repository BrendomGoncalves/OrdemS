<div class="surface-section p-2 mt-5">
  <div class="font-medium text-3xl text-900 mb-2 px-2 md:px-4 lg:px-6">Perfil</div>
  <div class="text-500 mb-5 px-2 md:px-4 lg:px-6">Informações da empresa utilizadas na Ordem de Serviço.</div>
  <form [formGroup]="perfilForm">
    <ul class="list-none p-0 m-0">
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Nome:</div>
        <div *ngIf="!editando['nome']" class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">{{ Empresa.nome }}
        </div>
        <input *ngIf="editando['nome']" class="w-full max-w-32rem md:w-8 md:flex-order-0 flex-order-1" pInputText
               formControlName="nome" placeholder="Digite o novo nome"/>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editando['nome']" (click)="ativarEdicao('nome')" pButton pRipple label="Editar"
                  icon="pi pi-pencil" class="p-button-text"></button>
          <button *ngIf="editando['nome']" (click)="salvarEdicao('nome')" pButton pRipple label="Salvar"
                  icon="pi pi-save"
                  class="p-button-text"></button>
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Técnico:</div>
        <div *ngIf="!editando['tecnico']"
             class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">{{ Empresa.tecnico }}
        </div>
        <input *ngIf="editando['tecnico']" class="w-full max-w-32rem md:w-8 md:flex-order-0 flex-order-1" pInputText
               formControlName="tecnico" placeholder="Digite o novo nome do técnico"/>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editando['tecnico']" (click)="ativarEdicao('tecnico')" pButton pRipple label="Editar"
                  icon="pi pi-pencil" class="p-button-text"></button>
          <button *ngIf="editando['tecnico']" (click)="salvarEdicao('tecnico')" pButton pRipple label="Salvar"
                  icon="pi pi-save" class="p-button-text"></button>
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Endereço:</div>
        <div *ngIf="!editando['endereco']"
             class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">{{ Empresa.endereco }}
        </div>
        <input *ngIf="editando['endereco']" class="w-full max-w-32rem md:w-8 md:flex-order-0 flex-order-1" pInputText
               formControlName="endereco" placeholder="Digite o novo endereço"/>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editando['endereco']" (click)="ativarEdicao('endereco')" pButton pRipple label="Editar"
                  icon="pi pi-pencil" class="p-button-text"></button>
          <button *ngIf="editando['endereco']" (click)="salvarEdicao('endereco')" pButton pRipple label="Salvar"
                  icon="pi pi-save" class="p-button-text"></button>
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">E-mail:</div>
        <div *ngIf="!editando['email']" class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">{{ Empresa.email }}
        </div>
        <input *ngIf="editando['email']" class="w-full max-w-32rem md:w-8 md:flex-order-0 flex-order-1" pInputText
               formControlName="email" placeholder="Digite o novo e-mail"/>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editando['email']" (click)="ativarEdicao('email')" pButton pRipple label="Editar"
                  icon="pi pi-pencil" class="p-button-text"></button>
          <button *ngIf="editando['email']" (click)="salvarEdicao('email')" pButton pRipple label="Salvar"
                  icon="pi pi-save" class="p-button-text"></button>
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Celular:</div>
        <div *ngIf="!editando['celular']"
             class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">{{ Empresa.celular }}
        </div>
        <input *ngIf="editando['celular']" class="w-full max-w-32rem md:w-8 md:flex-order-0 flex-order-1" pInputText
               formControlName="celular" placeholder="Digite o novo numero"/>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editando['celular']" (click)="ativarEdicao('celular')" pButton pRipple label="Editar"
                  icon="pi pi-pencil" class="p-button-text"></button>
          <button *ngIf="editando['celular']" (click)="salvarEdicao('celular')" pButton pRipple label="Salvar"
                  icon="pi pi-save" class="p-button-text"></button>
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">Telefone:</div>
        <div *ngIf="!editando['telefone']"
             class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">{{ Empresa.telefone }}
        </div>
        <input *ngIf="editando['telefone']" class="w-full max-w-32rem md:w-8 md:flex-order-0 flex-order-1" pInputText
               formControlName="telefone" placeholder="Digite o novo numero"/>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editando['telefone']" (click)="ativarEdicao('telefone')" pButton pRipple label="Editar"
                  icon="pi pi-pencil" class="p-button-text"></button>
          <button *ngIf="editando['telefone']" (click)="salvarEdicao('telefone')" pButton pRipple label="Salvar"
                  icon="pi pi-save" class="p-button-text"></button>
        </div>
      </li>
      <li class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap">
        <div class="text-500 w-6 md:w-2 font-medium">CNPJ:</div>
        <div *ngIf="!editando['cnpj']" class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">{{ Empresa.cnpj }}
        </div>
        <input *ngIf="editando['cnpj']" class="w-full max-w-32rem md:w-8 md:flex-order-0 flex-order-1" pInputText
               formControlName="cnpj" placeholder="Digite o novo cnpj"/>
        <div class="w-6 md:w-2 flex justify-content-end">
          <button *ngIf="!editando['cnpj']" (click)="ativarEdicao('cnpj')" pButton pRipple label="Editar"
                  icon="pi pi-pencil" class="p-button-text"></button>
          <button *ngIf="editando['cnpj']" (click)="salvarEdicao('cnpj')" pButton pRipple label="Salvar"
                  icon="pi pi-save" class="p-button-text"></button>
        </div>
      </li>
    </ul>
  </form>
</div>

<div class="w-full flex flex-row gap-4">
  <button pButton (click)="exportarDados()">Exportar Dados</button>
  <p-fileUpload
    mode="basic"
    chooseLabel="Importar Dados"
    chooseIcon="pi pi-upload"
    name="demo[]"
    url="https://www.primefaces.org/cdn/api/upload.php"
    accept="application/json*"
    maxFileSize="10000000"
    invalidFileSizeMessageSummary="Tamanho de arquivo inválido"
    invalidFileSizeMessageDetail="Tamanho do arquivo excede o limite de 1MB"
    invalidFileTypeMessageSummary="Tipo de arquivo inválido"
    invalidFileTypeMessageDetail="Apenas arquivos JSON são permitidos"
    invalidFileLimitMessageDetail="Apenas um arquivo pode ser enviado"
    invalidFileLimitMessageSummary="Limite de arquivo excedido"
    auto="true"
    (onUpload)="importarDados($event)"/>
</div>

<p-toast styleClass="mt-8" [breakpoints]="{ '768px': { width: '100%', right: '0', left: '0' }}"></p-toast>

